{% extends "layouts/base.html" %}

{% block title %} Dashboard {% endblock %} 

<!-- Specific Page CSS goes HERE  -->
{% block stylesheets %}
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/remixicon@3.5.0/fonts/remixicon.css" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
<link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
  

<style>
    #map {
        width: 100%;
        height: 400px;
        border-radius: 8px;
    }
</style>
{% endblock stylesheets %}

{% block content %}

<body class="bg-light">

  
<div class="container py-4">
    <div class="row g-4">
        
        <div class="col-12">
            <div class="card shadow border-0">
                <div class="card-body">
                    <div class="d-flex align-items-center mb-3">
                        <i class="ri-map-pin-line text-primary fs-3 me-3"></i>
                        <h5 class="card-title mb-0">Delivery Location</h5>
                    </div>
                    <div id="map" class="bg-secondary rounded-3" style="height: 300px;"></div> <!-- Map container -->
                </div>
            </div>
        </div>

        <div class="col-md-6">
            <div class="card shadow border-0">
                <div class="card-body">
                    <div class="d-flex align-items-center mb-3">
                        <i class="ri-sun-line text-warning fs-3 me-3"></i>
                        <h5 class="card-title mb-0">Weather Forecast</h5>
                    </div>
                    <div class="d-flex justify-content-between mb-4">
                        <div>
                            <p class="display-4 fw-bold">22°C</p>
                            <p class="text-muted">Clear Sky</p>
                        </div>
                        <div class="text-end">
                            <p class="mb-1 fw-medium">Next Location</p>
                            <p class="text-primary">Manipal University</p>
                        </div>
                    </div>
                    <div class="bg-light p-3 rounded-3 border">
                        <div class="d-flex justify-content-between align-items-center mb-3">
                            <div class="d-flex align-items-center">
                                <i class="ri-truck-line text-primary fs-5 me-2"></i>
                                <h6 class="mb-0">Delivery Prediction</h6>
                            </div>
                            <span class="badge bg-success">Favorable</span>
                        </div>
                        <div class="row text-center">
                            <div class="col">
                                <p class="mb-1 text-muted">Wind Speed</p>
                                <p class="fw-bold">8 km/h</p>
                            </div>
                            <div class="col">
                                <p class="mb-1 text-muted">Precipitation</p>
                                <p class="fw-bold">10%</p>
                            </div>
                            <div class="col">
                                <p class="mb-1 text-muted">Visibility</p>
                                <p class="fw-bold">15 km</p>
                            </div>
                        </div>
                        <div class="bg-white p-3 rounded-3 shadow-sm mt-3">
                            <p class="small mb-0">
                                <i class="ri-information-line text-primary me-2"></i>
                                Optimal delivery conditions. Low wind, minimal precipitation, and good visibility ensure smooth transportation.
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-md-6">
            <div class="card shadow border-0">
                <div class="card-body">
                    <div class="d-flex align-items-center mb-3">
                        <i class="ri-shield-check-line text-purple fs-3 me-3"></i>
                        <h5 class="card-title mb-0">Smart Helmet</h5>
                    </div>
                    <ul class="list-group list-group-flush">
                        <li class="list-group-item d-flex justify-content-between">
                            <span>Accelerometer</span>
                            <span class="fw-bold">9.8 m/s²</span>
                        </li>
                        <li class="list-group-item d-flex justify-content-between">
                            <span>Alcohol Level</span>
                            <span class="fw-bold">0.02% BAC</span>
                        </li>
                        <li class="list-group-item d-flex justify-content-between">
                            <span>Humidity</span>
                            <span class="fw-bold">55%</span>
                        </li>
                        <li class="list-group-item d-flex justify-content-between">
                            <span>Temperature</span>
                            <span class="fw-bold">25°C</span>
                        </li>
                        <li class="list-group-item d-flex justify-content-between">
                            <span>Air Quality</span>
                            <span class="fw-bold text-danger">Poor</span>
                        </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="col-md-8">
            <div class="card shadow border-0">
                <div class="card-body">
                    <div class="d-flex justify-content-between align-items-center mb-3">
                        <h5 class="card-title mb-0">Today's Orders</h5>
                        <div class="btn-group">
                            <button class="btn btn-primary btn-sm">Today</button>
                            <button class="btn btn-outline-secondary btn-sm">Week</button>
                            <button class="btn btn-outline-secondary btn-sm">Month</button>
                        </div>
                    </div>
                    <div class="table-responsive">
                        <table class="table">
                            <thead>
                                <tr class="table-light">
                                    <th>Order ID</th>
                                    <th>Location</th>
                                    <th>Distance</th>
                                    <th>Status</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>ORD-123</td>
                                    <td>Manipal University, Jaipur</td>
                                    <td>20 KM</td>
                                    <td><span class="badge bg-success">Completed</span></td>
                                </tr>
                                <tr>
                                    <td>ORD-213</td>
                                    <td>Jaipur Station</td>
                                    <td>23 KM</td>
                                    <td><span class="badge bg-warning">Pending</span></td>
                                </tr>
                                <tr>
                                    <td>ORD-321</td>
                                    <td>Jaipur Station</td>
                                    <td>10 KM</td>
                                    <td><span class="badge bg-success">Completed</span></td>
                                </tr>
                                <tr>
                                    <td>ORD-413</td>
                                    <td>Sector 12, Noida</td>
                                    <td>15 KM</td>
                                    <td><span class="badge bg-danger">Cancelled</span></td>
                                </tr>
                                <tr>
                                    <td>ORD-514</td>
                                    <td>Indore</td>
                                    <td>40 KM</td>
                                    <td><span class="badge bg-warning">Pending</span></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-md-4">
            <div class="card shadow border-0">
                <div class="card-body">
                    <div class="d-flex align-items-center mb-3">
                        <i class="ri-heart-pulse-line text-danger fs-3 me-3"></i>
                        <h5 class="card-title mb-0">Fitness Metrics</h5>
                    </div>
                    <div class="row text-center">
                        <div class="col">
                            <div class="bg-danger bg-opacity-25 rounded-circle p-3 mb-2">
                                <i class="ri-line-chart-line text-danger fs-4"></i>
                            </div>
                            <p class="mb-1">Heart Rate</p>
                            <p class="fw-bold">78</p>
                        </div>
                        <div class="col">
                            <div class="bg-success bg-opacity-25 rounded-circle p-3 mb-2">
                                <i class="ri-shield-check-line text-success fs-4"></i>
                            </div>
                            <p class="mb-1">SpO2</p>
                            <p class="fw-bold">95%</p>
                        </div>
                        <div class="col">
                            <div class="bg-primary bg-opacity-25 rounded-circle p-3 mb-2">
                                <i class="ri-temp-cold-line text-primary fs-4"></i>
                            </div>
                            <p class="mb-1">Temp</p>
                            <p class="fw-bold">36.5°</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>
</div>
</body>

{% endblock content %}

<!-- Specific Page JS goes HERE  -->
{% block javascripts %}
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBlIN2fe6AzvkDJfhGRmdKNGCa1elVXQ20&callback=initMap" async defer></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
<script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>

<script>
    var map = L.map('map').setView([13.3400, 74.7891], 13); // Set initial map position to Manipal University

// Add OpenStreetMap tile layer
L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
    attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
}).addTo(map);

// Add a marker at the location of Manipal University
var marker = L.marker([13.3400, 74.7891]).addTo(map);
marker.bindPopup("<b>Manipal University</b><br>Located here.").openPopup();

    var heartRateOptions = {
        chart: {
            type: 'radialBar',
            height: 250
        },
        series: [78], // Example value: 78 bpm
        labels: ['Heart Rate'],
        colors: ['#FF4560'],
        plotOptions: {
            radialBar: {
                hollow: { size: '70%' },
                dataLabels: {
                    value: {
                        fontSize: '22px'
                    }
                }
            }
        }
    };
    var heartRateChart = new ApexCharts(document.querySelector("#heartRateGauge"), heartRateOptions);
    heartRateChart.render();

    // SpO2 Gauge
    var spo2Options = {
        chart: {
            type: 'radialBar',
            height: 250
        },
        series: [95], // Example value: 95% SpO2
        labels: ['SpO2'],
        colors: ['#00E396'],
        plotOptions: {
            radialBar: {
                hollow: { size: '70%' },
                dataLabels: {
                    value: {
                        fontSize: '22px'
                    }
                }
            }
        }
    };
    var spo2Chart = new ApexCharts(document.querySelector("#spo2Gauge"), spo2Options);
    spo2Chart.render();

    // Body Temperature Gauge
    var tempOptions = {
        chart: {
            type: 'radialBar',
            height: 250
        },
        series: [36.5], // Example value: 36.5°C
        labels: ['Temp (°C)'],
        colors: ['#008FFB'],
        plotOptions: {
            radialBar: {
                hollow: { size: '70%' },
                dataLabels: {
                    value: {
                        fontSize: '22px'
                    }
                }
            }
        }
    };
    var tempChart = new ApexCharts(document.querySelector("#tempGauge"), tempOptions);
    tempChart.render();


    function initMap() {
        const location = { lat: 37.774929, lng: -122.419416 };
        const map = new google.maps.Map(document.getElementById("map"), {
            zoom: 12,
            center: location,
        });
        const marker = new google.maps.Marker({
            position: location,
            map: map,
            title: "San Francisco, CA",
        });
    }

    


</script>


{% endblock javascripts %}
